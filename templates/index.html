<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lions Flute - Audio FX Studio</title>
    <link href="https://cdn.replit.com/agent/bootstrap-agent-dark-theme.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="{{ url_for('static', filename='style.css') }}" rel="stylesheet">
</head>
<body>
    <div class="container-fluid">
        <!-- Hero Header -->
        <header class="hero-header py-5 mb-5">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-8">
                        <div class="hero-content">
                            <div class="d-flex align-items-center mb-3">
                                <div class="logo-container me-4">
                                    <i class="fas fa-music logo-icon"></i>
                                    <div class="logo-glow"></div>
                                </div>
                                <div>
                                    <h1 class="hero-title mb-2">Lions Flute</h1>
                                    <p class="hero-subtitle mb-0">Professional Audio FX Studio</p>
                                </div>
                            </div>
                            <p class="hero-description">Transform your audio with powerful effects, split vocals from instrumentals, and create professional-quality tracks.</p>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="hero-stats">
                            <div class="stat-item">
                                <i class="fas fa-file-audio text-primary"></i>
                                <span>Multiple Formats Supported</span>
                            </div>
                            <div class="stat-item">
                                <i class="fas fa-magic text-primary"></i>
                                <span>7+ Audio Effects</span>
                            </div>
                            <div class="stat-item">
                                <i class="fas fa-cut text-primary"></i>
                                <span>AI-Powered Splitting</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <div class="container">
            <!-- Status Display -->
            <div id="status-alert" class="alert alert-info d-none" role="alert">
                <i class="fas fa-info-circle me-2"></i>
                <span id="status-message"></span>
            </div>

            <!-- Audio Player Section -->
            <div class="row mb-4" id="audio-player-section" style="display: none;">
                <div class="col-12">
                    <div class="card glass-card">
                        <div class="card-body">
                            <div class="d-flex align-items-center justify-content-between mb-3">
                                <div>
                                    <h5 class="mb-1" id="current-file-name">No file loaded</h5>
                                    <small class="text-muted" id="file-info">Duration: -- | Format: -- | Size: --</small>
                                </div>
                                <div class="audio-controls">
                                    <button class="btn btn-primary btn-sm me-2" id="play-pause-btn" disabled>
                                        <i class="fas fa-play"></i>
                                    </button>
                                    <span class="time-display" id="time-display">0:00 / 0:00</span>
                                </div>
                            </div>
                            <div class="waveform-container">
                                <canvas id="waveform-canvas" width="800" height="80"></canvas>
                                <div class="progress-overlay" id="progress-overlay"></div>
                            </div>
                            <audio id="audio-element" preload="metadata"></audio>
                        </div>
                    </div>
                </div>
            </div>

            <!-- File Upload Section -->
            <div class="row mb-5">
                <div class="col-12">
                    <div class="card glass-card upload-card">
                        <div class="card-header gradient-header">
                            <div class="d-flex align-items-center">
                                <div class="icon-wrapper me-3">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                </div>
                                <div>
                                    <h3 class="card-title mb-0">Upload Your Audio</h3>
                                    <p class="card-subtitle mb-0">Drag & drop or click to select</p>
                                </div>
                            </div>
                        </div>
                        <div class="card-body">
                            <form id="upload-form">
                                <div class="upload-zone" id="upload-zone">
                                    <div class="upload-content">
                                        <i class="fas fa-file-audio upload-icon mb-3"></i>
                                        <h5>Choose Audio File</h5>
                                        <p class="text-muted mb-3">Drag and drop your audio file here or click to browse</p>
                                        <input type="file" class="form-control d-none" id="audio-file" accept=".mp3,.wav,.flac,.aac,.m4a" required>
                                        <button type="button" class="btn btn-outline-info btn-sm mt-2" id="demo-btn">
                                            <i class="fas fa-play me-1"></i>Try Demo Track
                                        </button>
                                        <div class="supported-formats">
                                            <span class="format-badge">MP3</span>
                                            <span class="format-badge">WAV</span>
                                            <span class="format-badge">FLAC</span>
                                            <span class="format-badge">AAC</span>
                                            <span class="format-badge">M4A</span>
                                        </div>
                                        <small class="text-muted d-block mt-2">Maximum file size: 16MB</small>
                                    </div>
                                </div>
                                <div class="mt-4">
                                    <button type="submit" class="btn btn-primary btn-lg gradient-btn">
                                        <i class="fas fa-rocket me-2"></i>Process Audio
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Audio Processing Section -->
            <div class="row mb-5" id="processing-section" style="display: none;">
                <div class="col-md-6 mb-4">
                    <div class="card glass-card processing-card">
                        <div class="card-header gradient-header">
                            <div class="d-flex align-items-center">
                                <div class="icon-wrapper me-3">
                                    <i class="fas fa-cut"></i>
                                </div>
                                <div>
                                    <h4 class="card-title mb-0">AI Audio Splitting</h4>
                                    <p class="card-subtitle mb-0">Separate vocals & instrumentals</p>
                                </div>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="feature-preview mb-3">
                                <div class="preview-item">
                                    <i class="fas fa-microphone text-info"></i>
                                    <span>Isolated Vocals</span>
                                </div>
                                <div class="preview-item">
                                    <i class="fas fa-guitar text-warning"></i>
                                    <span>Clean Instrumentals</span>
                                </div>
                            </div>
                            <button id="split-btn" class="btn btn-outline-primary btn-lg w-100 action-btn">
                                <i class="fas fa-scissors me-2"></i>Split Audio Now
                            </button>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 mb-4">
                    <div class="card glass-card processing-card">
                        <div class="card-header gradient-header">
                            <div class="d-flex align-items-center">
                                <div class="icon-wrapper me-3">
                                    <i class="fas fa-magic"></i>
                                </div>
                                <div>
                                    <h4 class="card-title mb-0">Audio Effects</h4>
                                    <p class="card-subtitle mb-0">Professional sound enhancement</p>
                                </div>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="mb-4">
                                <label for="effect-select" class="form-label fw-bold">Choose Effect</label>
                                <select class="form-select effect-select" id="effect-select">
                                    <option value="">Select an effect</option>
                                    <option value="reverb" data-icon="fa-water">üåä Reverb</option>
                                    <option value="echo" data-icon="fa-volume-up">üîä Echo</option>
                                    <option value="distortion" data-icon="fa-bolt">‚ö° Distortion</option>
                                    <option value="chorus" data-icon="fa-users">üë• Chorus</option>
                                    <option value="delay" data-icon="fa-clock">‚è±Ô∏è Delay</option>
                                    <option value="compressor" data-icon="fa-compress">üì¶ Compressor</option>
                                    <option value="equalizer" data-icon="fa-sliders-h">üéõÔ∏è Equalizer</option>
                                </select>
                            </div>
                            <div class="mb-4">
                                <label for="intensity-range" class="form-label fw-bold">
                                    Effect Intensity: <span id="intensity-value" class="intensity-display">50</span>%
                                </label>
                                <div class="intensity-slider-container">
                                    <input type="range" class="form-range intensity-slider" id="intensity-range" min="0" max="100" value="50">
                                    <div class="slider-labels">
                                        <span>Subtle</span>
                                        <span>Intense</span>
                                    </div>
                                </div>
                            </div>
                            <button id="apply-fx-btn" class="btn btn-outline-secondary btn-lg w-100 action-btn">
                                <i class="fas fa-wand-magic-sparkles me-2"></i>Apply Effect
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Results Section -->
            <div class="row mb-5" id="results-section" style="display: none;">
                <div class="col-12">
                    <div class="card glass-card results-card">
                        <div class="card-header gradient-header">
                            <div class="d-flex align-items-center justify-content-between">
                                <div class="d-flex align-items-center">
                                    <div class="icon-wrapper me-3">
                                        <i class="fas fa-download"></i>
                                    </div>
                                    <div>
                                        <h4 class="card-title mb-0">Your Processed Files</h4>
                                        <p class="card-subtitle mb-0">Ready for download</p>
                                    </div>
                                </div>
                                <div class="results-count">
                                    <span class="badge bg-success" id="files-count">0 files</span>
                                </div>
                            </div>
                        </div>
                        <div class="card-body">
                            <div id="results-list" class="results-grid">
                                <!-- Results will be populated here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer py-5 mt-5">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-6">
                        <div class="d-flex align-items-center">
                            <div class="footer-logo me-3">
                                <i class="fas fa-music"></i>
                            </div>
                            <div>
                                <h6 class="mb-1">Lions Flute</h6>
                                <p class="mb-0 text-muted small">Professional Audio FX Studio</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 text-md-end">
                        <div class="server-status-container">
                            <span class="me-2 text-muted">Server Status:</span>
                            <span id="server-status" class="badge bg-success status-badge">
                                <i class="fas fa-circle me-1"></i>Online
                            </span>
                        </div>
                        <div class="mt-2">
                            <small class="text-muted">Powered by AI ‚Ä¢ Real-time Processing</small>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='app.js') }}"></script>
</body>
</html>
